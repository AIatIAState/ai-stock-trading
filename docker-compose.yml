version: '3.8'
services:
  vite:
    build:
      context: ./stockai-web
      dockerfile: Dockerfile
      args:
        VITE_API_BASE: http://localhost:5000
    ports:
      - "3000:3000"
    depends_on:
      - fastapi
  fastapi:
    build:
      context: ./fastapi
      dockerfile: Dockerfile
    ports:
      - "5000:5000"
    environment:
      - DB_PATH=/data/stocks.db
    volumes:
      - ./data:/data
